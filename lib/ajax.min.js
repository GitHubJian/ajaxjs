function type(a){return null==a?String(a):class2type[toString.call(a)]||"object"}function empty(){}function ajaxBeforeSend(a,b){var c=b.context;return b.beforeSend.call(c,a,b)===!1?!1:void 0}function ajaxDataFilter(a,b,c){if(c.dataFilter==empty)return a;var d=c.context;return c.dataFilter.call(d,a,b)}function ajaxSuccess(a,b,c){var d=c.context,e="success";c.success.call(d,a,e,b),ajaxComplete(e,b,c)}function ajaxError(a,b,c,d){var e=d.context;d.error.call(e,c,b,a),ajaxComplete(b,c,d)}function ajaxComplete(a,b,c){var d=c.context;c.complete.call(d,b,a)}function serialize(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&a.add(c,b[c])}function param(a){var b=[];return b.add=function(a,b){this.push(escape(a)+"="+escape(b))},serialize(b,a),b.join("&").replace(/%20/g,"+")}function mimeToDataType(a){if(a&&(a=a.split(";",2)[0]),a){if(a==htmlType)return"html";if(a==jsonType)return"json";if(scriptTypeRE.test(a))return"script";if(xmlTypeRE.test(a))return"xml"}return"text"}function appendQuery(a,b){return""==b?a:(a+"&"+b).replace(/[&?]{1,2}/,"?")}function serializeData(a){a.processData&&a.data&&"string"!=type(a.data)&&(a.data=param(a.data)),!a.data||a.type&&"GET"!=a.type.toUpperCase()||(a.url=appendQuery(a.url,a.data),a.data=void 0)}function ajax(a){var c,d,e,l,f,g,h,i,j,k,m,b=Object.assign({},a||{});for(key in ajaxSettings)void 0===b[key]&&(b[key]=ajaxSettings[key]);if(b.crossDomain||(c=document.createElement("a"),c.href=b.url,c.href=c.href,b.crossDomain=originAnchor.protocol+"//"+originAnchor.host!=c.protocol+"//"+c.host),b.url||(b.url=window.location.toString()),(d=b.url.indexOf("#"))>-1&&(b.url=b.url.slice(0,d)),serializeData(b),e=b.dataType,b.cache!==!1&&a&&a.cache===!0||(b.url=appendQuery(b.url,"_="+(new Date).getTime())),f=b.accepts[e],g={},h=function(a,b){g[a.toLowerCase()]=[a,b]},i=/^([\w-]+:)\/\//.test(b.url)?RegExp.$1:window.location.protocol,j=b.xhr(),k=j.setRequestHeader,b.crossDomain||h("X-Requested-With","XMLHttpRequest"),h("Accept",f||"*/*"),(f=b.mimeType||f)&&(f.indexOf(",")>-1&&(f=f.split(",",2)[0]),j.overrideMimeType&&j.overrideMimeType(f)),(b.contentType||b.contentType!==!1&&b.data&&"GET"!=b.type.toUpperCase())&&h("Content-Type",b.contentType||"application/x-www-form-urlencoded"),b.headers)for(name in b.headers)h(name,b.headers[name]);if(j.onreadystatechange=function(){if(4==j.readyState){j.onreadystatechange=empty,clearTimeout(l);var a,c=!1;if(j.status>=200&&j.status<300||304==j.status||0==j.status&&"file:"==i){if(e=e||mimeToDataType(b.mimeType||j.getResponseHeader("content-type")),"arraybuffer"==j.responseType||"blob"==j.responseType)a=j.response;else{a=j.responseText;try{a=ajaxDataFilter(a,e,b),"script"==e?(1,eval)(a):"xml"==e?a=j.responseXML:"json"==e&&(a=blankRE.test(a)?null:window.JSON.parse(a))}catch(d){c=d}if(c)return ajaxError(c,"parsererror",j,b)}ajaxSuccess(a,j,b)}else ajaxError(j.statusText||null,j.status?"error":"abort",j,b)}},ajaxBeforeSend(j,b)===!1)return j.abort(),ajaxError(null,"abort",j,b),j;if(m="async"in b?b.async:!0,j.open(b.type,b.url,m,b.username,b.password),b.xhrFields)for(name in b.xhrFields)j[name]=b.xhrFields[name];for(name in g)k.apply(j,g[name]);return b.timeout>0&&(l=setTimeout(function(){j.onreadystatechange=empty,j.abort(),ajaxError(null,"timeout",j,b)},b.timeout)),j.send(b.data?b.data:null),j}var i,name,document,key,rscript,scriptTypeRE,xmlTypeRE,jsonType,htmlType,blankRE,originAnchor,ajaxSettings,class2type={},toString=class2type.toString,types=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"];for(i=0;i<types.length;i++)name=types[i],class2type["[object "+name+"]"]=name.toLowerCase();document=window.document,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/,originAnchor=document.createElement("a"),originAnchor.href=window.location.href,ajaxSettings={type:"GET",beforeSend:empty,success:empty,error:empty,complete:empty,context:null,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:empty},window.$fetch=function(a){return new window.Promise(function(b,c){a.success=b,a.error=c,ajax(a)})},window.$ajax=ajax;